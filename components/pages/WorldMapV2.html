<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>World Map V2 - Interactive</title>
<script src="https://cdn.maptiler.com/maptiler-sdk-js/v3.6.1/maptiler-sdk.umd.min.js"></script>
<link href="https://cdn.maptiler.com/maptiler-sdk-js/v3.6.1/maptiler-sdk.css" rel="stylesheet" />
<style>
  body {
    margin: 0; 
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  }
  #map {
    position: absolute; 
    top: 0; 
    bottom: 0; 
    width: 100%;
  }
  
  /* Custom dark theme */
  .maplibregl-canvas {
    filter: brightness(0.8) contrast(1.2);
  }
  
  /* Hide any branding */
  .maplibregl-ctrl-bottom-right,
  .maplibregl-ctrl-bottom-left {
    display: none !important;
  }
</style>
</head>
<body>
<div id="map"></div>
<script>
    // Using a free MapTiler API key (you can get your own at maptiler.com)
    maptilersdk.config.apiKey = 'LwlR5e2rf7A2MFtHdeox';
    
    const map = new maptilersdk.Map({
        container: 'map',
        style: maptilersdk.MapStyle.STREETS_DARK, // Dark theme
        center: [0, 20], // Center on world
        zoom: 2,
        maxZoom: 18,
        minZoom: 1
    });
    
    let hoveredCountryId = null;

    map.on('load', function () {
        // Add world countries source
        map.addSource('countries', {
            'type': 'geojson',
            'data': 'https://docs.maptiler.com/sdk-js/assets/countries.geojson'
        });

        // Add country fills with hover effect
        map.addLayer({
            'id': 'country-fills',
            'type': 'fill',
            'source': 'countries',
            'layout': {},
            'paint': {
                'fill-color': '#627BC1',
                'fill-opacity': [
                    'case',
                    ['boolean', ['feature-state', 'hover'], false],
                    0.8,
                    0.3
                ]
            }
        });

        // Add country borders
        map.addLayer({
            'id': 'country-borders',
            'type': 'line',
            'source': 'countries',
            'layout': {},
            'paint': {
                'line-color': '#627BC1',
                'line-width': 1,
                'line-opacity': 0.6
            }
        });

        // Hover effect for countries
        map.on('mousemove', 'country-fills', function (e) {
            if (e.features.length > 0) {
                if (hoveredCountryId) {
                    map.setFeatureState(
                        { source: 'countries', id: hoveredCountryId },
                        { hover: false }
                    );
                }
                hoveredCountryId = e.features[0].id;
                map.setFeatureState(
                    { source: 'countries', id: hoveredCountryId },
                    { hover: true }
                );
                
                // Change cursor
                map.getCanvas().style.cursor = 'pointer';
            }
        });

        // Mouse leave effect
        map.on('mouseleave', 'country-fills', function () {
            if (hoveredCountryId) {
                map.setFeatureState(
                    { source: 'countries', id: hoveredCountryId },
                    { hover: false }
                );
            }
            hoveredCountryId = null;
            map.getCanvas().style.cursor = '';
        });

        // Click effect for countries
        map.on('click', 'country-fills', function (e) {
            if (e.features.length > 0) {
                const country = e.features[0];
                console.log('Clicked country:', country.properties.name);
                
                // You can add custom click behavior here
                // For example, show country info, zoom to country, etc.
            }
        });
    });

    // Add navigation controls
    map.addControl(new maptilersdk.NavigationControl(), 'top-right');
    
    // Add fullscreen control
    map.addControl(new maptilersdk.FullscreenControl(), 'top-right');
</script>
</body>
</html> 